<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meu Perfil</title>
  <link rel="stylesheet" href="/css/perfis.css">
  <link rel="stylesheet" href="/js/perfis.js">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100..900&display=swap');
  </style>
</head>


<script>

  function editar() {
    const input = document.querySelectorAll('input:not(#nome)');
    //Remove o primeiro elemento: nome, já que esse não deve ser mudado
    input.forEach((input) => {
      input.removeAttribute('readonly');
      input.placeholder = "digite o novo valor";
    });
}
</script>

<style>
  #nome{
    font-weight: bold;
    color:brown;
  }
</style>

<body>

  <%- include('../partials/navbar') %>

  <h2>Meu Perfil</h2>
  <h2>Olá <%=result.username%>!</h2>
  <form action="atualizarCadastro?_method=PUT" method="POST">
    <div>
      <label for="inputNome">Nome</label>
      <input type="text" id="nome" readonly value="<%=result.nome%>" name="nome">
    </div><br>

    <div>
      <label for="inputUsuario">Usuário</label>
      <input type="text" readonly placeholder="<%=result.username%>" name="username">
    </div><br>

    <div>
      <label for="inputEmail">Email</label>
      <input type="email" readonly placeholder="<%=result.email%>" name="email">
    </div><br>
    
    <div>
      <label for="inputSenha">Senha</label>
      <input type="password" readonly name="senha">
    </div><br>

    <div>
     
      <button type="submit">Salvar</button>
      <button type="submit"><a href="/">Cancelar</a></button>
    </div><br>

    <div>
      <button type="submit"><a href="/">Sair da conta</a></button>
      <a href="/deleteCadastro/<%=result.id%>">excluir conta</a>
    </div><br>

  </form>
   <button onclick="editar()">Editar</button>

  <br>

  <%- include('../partials/footer') %>

</body>
</html>